(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1279:function(t,e,n){"use strict";var r=n(966);n.n(r).a},1280:function(t,e,n){(t.exports=n(695)(!1)).push([t.i,".minicart-qty{margin-top:-10px;border-radius:50%;width:16px;height:15px;font-size:12px;font-weight:600;margin-left:-56px}\n",""])},1423:function(t,e,n){"use strict";n.r(e);var r=n(277),o=n(12),i=n(158);function a(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={directives:{focusClean:function(){return n.e(32).then(n.bind(null,699))}},components:{ButtonOrange:function(){return n.e(22).then(n.bind(null,717))},ButtonHalf:function(){return n.e(21).then(n.bind(null,738))}},props:{product:{required:!0,type:Object},disabled:{type:Boolean,default:!1},buttonType:{type:Boolean,default:!0}},data:{buttonDisable:!1},computed:c(c({},Object(i.c)({isAddingToCart:"cart/getIsAdding",totalQuantity:"cart/getItemsTotalQuantity",isLogged:"user/isLoggedIn",fullAddress:"address/getAddressList"})),{},{isProductDisabled:function(){return this.disabled||""!==Object(r.a)(this.product.errors)||this.isAddingToCart||this.buttonDisable}}),methods:{onAfterRemovedVariant:function(){this.$forceUpdate()},callLoginAccount:function(){localStorage.removeItem("refresh"),console.log("Login buy Now >>>>>>>>>>"),this.$store.commit("ui/setRouteFrom","buy_now"),this.$bus.$emit("modal-show","modal-signup")},goToCart:function(){this.$router.push("/cart")},addToCart:function(t){var e,n=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isLogged&&n.fullAddress&&n.fullAddress.length?n.goToCart():n.isLogged&&!n.fullAddress.length?n.$router.push("/cart/address/newAddress"):n.callLoginAccount(),!(n.totalQuantity<1)){e.next=11;break}return e.prev=2,e.next=5,n.$store.dispatch("cart/addItem",{productToAdd:t});case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),n.notifyUser(o.i.createNotification({type:"error",message:e.t0}));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(t){a(i,r,o,s,c,"next",t)}function c(t){a(i,r,o,s,c,"throw",t)}s(void 0)}))})()},notifyUser:function(t){this.$store.dispatch("notification/spawnNotification",t,{root:!0})}},beforeMount:function(){var t=this;this.$bus.$on("product-after-removevariant",this.onAfterRemovedVariant),this.$bus.$on("cart-clicked",(function(){t.buttonDisable=!0,console.log("a2")}))},beforeDestroy:function(){this.$bus.$off("product-after-removevariant"),this.$bus.$off("cart-clicked")}},l=(n(1279),n(170)),f=Object(l.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.buttonType?n("button-orange",{attrs:{disabled:t.isProductDisabled,"data-testid":"addToCart"},nativeOn:{click:function(e){return t.addToCart(t.product)}}},[n("span",{staticClass:"tk-basic-sans"},[t._v("Buy Now")])]):n("button-half",{attrs:{disabled:t.isProductDisabled,"data-testid":"addToCart"},nativeOn:{click:function(e){return t.addToCart(t.product)}}},[n("div",{staticClass:"flex center-xs"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.totalQuantity,expression:"totalQuantity"}],staticClass:"minicart-qty absolute bg-cl-brand-purple flex center-xs middle-xs border-box py0 px2 h6 lh16 weight-700 cl-white",attrs:{"data-testid":"minicartCount"}},[t._v("\n      "+t._s(t.totalQuantity)+"\n    ")]),t._v(" "),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"white",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}})]),t._v(" "),n("span",{staticClass:"tk-basic-sans ml10"},[t._v("Buy Now")])])])}),[],!1,null,null,null);e.default=f.exports},966:function(t,e,n){var r=n(1280);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(696).default)("583d6a09",r,!0,{})}}]);
//# sourceMappingURL=vsf-buy-now.74889a16c5673e48963e.js.map